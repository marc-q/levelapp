<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Web App</title>
		<style>
			.main {width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;}
			.b {width: 10%; height: 10%; background-color: green; position: absolute; top: 40%;}
		</style>
	</head>
	<body>
		<div class="main">
			<div class="b"></div>
		</div>
		<pre class="output">
		</pre>
		<script>
			var m = document.querySelector ('.main');
			var b = document.querySelector ('.b');
			var output = document.querySelector ('.output');
			
			var maxx = m.clientWidth - b.clientWidth;
			
			function cb_orientation (event)
			{
				var z = event.alpha;
				
				output.innerHTML = "alpha: " + z + "\n";

				z += 180;
				b.style.left = (maxx*z/540 - b.clientWidth) + "px";
			}
			window.addEventListener ('deviceorientation', cb_orientation);
		</script>
	</body>
</html>
